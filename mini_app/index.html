<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vochi CRM Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ -->
        <header class="header">
            <div class="user-info">
                <h1>üéØ Vochi CRM</h1>
                <div id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                <div id="enterprise-name">–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è...</div>
            </div>
        </header>

        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="navigation">
            <button class="nav-btn active" onclick="showCalls()">üìû –ó–≤–æ–Ω–∫–∏</button>
            <button class="nav-btn" onclick="showClients()">üë• –ö–ª–∏–µ–Ω—Ç—ã</button>
            <button class="nav-btn" onclick="showStats()">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        </nav>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main class="content">
            <!-- –°–µ–∫—Ü–∏—è –∑–≤–æ–Ω–∫–æ–≤ -->
            <div id="calls-section" class="section active">
                <div class="section-header">
                    <h2>üìû –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–≤–æ–Ω–∫–∏</h2>
                    <button class="refresh-btn" onclick="refreshCalls()">üîÑ</button>
                </div>
                
                <div class="filter-bar">
                    <select id="filter-type">
                        <option value="all">–í—Å–µ –∑–≤–æ–Ω–∫–∏</option>
                        <option value="incoming">–í—Ö–æ–¥—è—â–∏–µ</option>
                        <option value="outgoing">–ò—Å—Ö–æ–¥—è—â–∏–µ</option>
                    </select>
                    <input type="date" id="filter-date" onchange="filterCalls()">
                </div>

                <div id="calls-list" class="calls-list">
                    <div class="loading">üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –∑–≤–æ–Ω–∫–æ–≤...</div>
                </div>
            </div>

            <!-- –°–µ–∫—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ -->
            <div id="clients-section" class="section">
                <div class="section-header">
                    <h2>üë• –ö–ª–∏–µ–Ω—Ç—ã</h2>
                    <input type="text" id="client-search" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –Ω–æ–º–µ—Ä—É –∏–ª–∏ –∏–º–µ–Ω–∏" oninput="searchClients()">
                </div>
                <div id="clients-list" class="clients-list">
                    <div class="info-message">üîç –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏–ª–∏ –∏–º—è –¥–ª—è –ø–æ–∏—Å–∫–∞</div>
                </div>
            </div>

            <!-- –°–µ–∫—Ü–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
            <div id="stats-section" class="section">
                <div class="section-header">
                    <h2>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="total-calls">-</div>
                        <div class="stat-label">–í—Å–µ–≥–æ –∑–≤–æ–Ω–∫–æ–≤</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="successful-calls">-</div>
                        <div class="stat-label">–£—Å–ø–µ—à–Ω—ã—Ö</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="avg-duration">-</div>
                        <div class="stat-label">–°—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ -->
        <div id="audio-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modal-title">üéµ –ó–∞–ø–∏—Å—å —Ä–∞–∑–≥–æ–≤–æ—Ä–∞</h3>
                    <button class="close-btn" onclick="closeAudioModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <audio id="audio-player" controls style="width: 100%; margin: 10px 0;">
                        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ.
                    </audio>
                    <div id="audio-info" class="audio-info">
                        <div><strong>–ù–æ–º–µ—Ä:</strong> <span id="audio-phone"></span></div>
                        <div><strong>–î–∞—Ç–∞:</strong> <span id="audio-date"></span></div>
                        <div><strong>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</strong> <span id="audio-duration"></span></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>