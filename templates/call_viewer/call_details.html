<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ—Ç–∞–ª–∏ –∑–≤–æ–Ω–∫–∞ #{{ unique_id }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è timeline */
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        .timeline-item {
            animation: slideIn 0.5s ease-out;
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ü–≤–µ—Ç–∞ */
        .status-success { color: #10b981; }
        .status-error { color: #ef4444; }
        .status-warning { color: #f59e0b; }
        .status-info { color: #3b82f6; }
        
        /* Accordion */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .accordion-content.active {
            max-height: 2000px;
        }
        
        /* –ö–æ–¥ –±–ª–æ–∫–∏ */
        pre {
            background: #1f2937;
            color: #e5e7eb;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
        }
    </style>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen py-8">
        <div class="max-w-6xl mx-auto px-4">
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-900 mb-2">
                            üìû –î–µ—Ç–∞–ª–∏ –∑–≤–æ–Ω–∫–∞
                        </h1>
                        <p class="text-gray-600">
                            –ó–≤–æ–Ω–æ–∫ #{{ unique_id[:15] }}... 
                            {% if enterprise_info %}
                            | üè¢ {{ enterprise_info.name }} ({{ enterprise_number }})
                            {% endif %}
                        </p>
                    </div>
                    <div class="text-right">
                        <button onclick="window.print()" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg">
                            üñ®Ô∏è –ü–µ—á–∞—Ç—å
                        </button>
                    </div>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ 1: –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">üìä –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è (GMT+3)</p>
                        <p class="text-lg font-semibold">
                            {% if call_data.start_time %}
                            {{ to_gmt3(call_data.start_time).strftime('%d.%m.%Y %H:%M:%S') }}
                            {% else %}
                            –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ
                            {% endif %}
                        </p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</p>
                        <p class="text-lg font-semibold">
                            {% if duration_seconds %}
                            {{ '%02d:%02d' % (duration_seconds // 60, duration_seconds % 60) }}
                            {% else %}
                            00:00
                            {% endif %}
                        </p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</p>
                        <p class="text-lg font-semibold">
                            {% if call_data.call_direction == 'incoming' %}
                            üìû‚û°Ô∏è –í—Ö–æ–¥—è—â–∏–π (–∫ –Ω–∞–º)
                            {% elif call_data.call_direction == 'outgoing' %}
                            ‚òéÔ∏è‚û°Ô∏èüì± –ò—Å—Ö–æ–¥—è—â–∏–π (–æ—Ç –Ω–∞—Å)
                            {% elif call_data.call_direction == 'internal' %}
                            üîÑ –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π
                            {% else %}
                            ‚ùì –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ
                            {% endif %}
                        </p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <p class="text-sm text-gray-600">–°—Ç–∞—Ç—É—Å</p>
                        <p class="text-lg font-semibold">
                            {% if call_data.call_status == 'ANSWERED' or call_data.call_status == '1' or call_data.call_status == 1 %}
                            <span class="status-success">‚úÖ –û—Ç–≤–µ—á–µ–Ω</span>
                            {% elif call_data.call_status == 'completed' or call_data.call_status == '2' or call_data.call_status == 2 %}
                            <span class="status-success">‚úÖ –£—Å–ø–µ—à–Ω—ã–π –∏—Å—Ö–æ–¥—è—â–∏–π –∑–≤–æ–Ω–æ–∫</span>
                            {% elif call_data.call_status == 'NO ANSWER' or call_data.call_status == '0' or call_data.call_status == 0 %}
                            <span class="status-error">‚ùå –ù–µ –æ—Ç–≤–µ—á–µ–Ω</span>
                            {% else %}
                            <span class="status-warning">‚ö†Ô∏è {{ call_data.call_status }}</span>
                            {% endif %}
                        </p>
                    </div>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ 2: –£—á–∞—Å—Ç–Ω–∏–∫–∏ -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏ –∑–≤–æ–Ω–∫–∞</h2>
                <div class="space-y-4">
                    <!-- –ú–µ–Ω–µ–¥–∂–µ—Ä (—Å–≤–µ—Ä—Ö—É –¥–ª—è –∏—Å—Ö–æ–¥—è—â–µ–≥–æ) -->
                    <div class="flex items-center space-x-4 p-4 bg-red-50 rounded-lg">
                        <div class="text-4xl">‚òéÔ∏è</div>
                        <div>
                            <p class="text-sm text-gray-600">–ú–µ–Ω–µ–¥–∂–µ—Ä</p>
                            <p class="text-2xl text-gray-900 font-bold">
                                {% if manager_info.extension %}
                                {{ manager_info.extension }}
                                {% else %}
                                –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
                                {% endif %}
                                {% if manager_info.name and manager_info.name != '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω' %}
                                {{ manager_info.name }}
                                {% endif %}
                            </p>
                        </div>
                    </div>
                    <!-- –°—Ç—Ä–µ–ª–∫–∞ –≤–Ω–∏–∑ (–æ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É) -->
                    <div class="flex items-center justify-center">
                        <div class="text-3xl">‚¨áÔ∏è</div>
                    </div>
                    <!-- –ö–ª–∏–µ–Ω—Ç (—Å–Ω–∏–∑—É) -->
                    <div class="flex items-center space-x-4 p-4 bg-green-50 rounded-lg">
                        <div class="text-4xl">üí∞</div>
                        <div>
                            <p class="text-sm text-gray-600">–ö–ª–∏–µ–Ω—Ç</p>
                            <p class="text-2xl text-gray-900 font-bold">
                                {% if client_info.phone %}
                                {{ format_phone(client_info.phone) }}
                                {% endif %}
                                {% if client_info.name and client_info.name != '–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω' %}
                                {{ client_info.name }}
                                {% else %}
                                –ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω
                                {% endif %}
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ 3: Timeline —Å–æ–±—ã—Ç–∏–π -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <h2 class="text-2xl font-bold text-gray-900 mb-4">‚è±Ô∏è –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è —Å–æ–±—ã—Ç–∏–π</h2>
                
                {% if call_data.call_events %}
                <div class="space-y-4">
                    {% for event in call_data.call_events %}
                    <div class="timeline-item flex items-start space-x-4">
                        <div class="flex-shrink-0 w-32 text-sm text-gray-600">
                            {% if event.event_timestamp %}
                            {{ event.event_timestamp.split('T')[1][:8] if 'T' in event.event_timestamp else event.event_timestamp[-8:] }}
                            {% endif %}
                        </div>
                        <div class="flex-shrink-0">
                            {% if event.event_type == 'start' %}
                            <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">
                                üöÄ
                            </div>
                            {% elif event.event_type == 'dial' %}
                            <div class="w-10 h-10 bg-yellow-500 rounded-full flex items-center justify-center text-white font-bold">
                                üìû
                            </div>
                            {% elif event.event_type == 'bridge' %}
                            <div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-bold">
                                üîó
                            </div>
                            {% elif event.event_type == 'hangup' %}
                            <div class="w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white font-bold">
                                ‚èπÔ∏è
                            </div>
                            {% else %}
                            <div class="w-10 h-10 bg-gray-500 rounded-full flex items-center justify-center text-white font-bold">
                                ‚ÑπÔ∏è
                            </div>
                            {% endif %}
                        </div>
                        <div class="flex-1 bg-gray-50 p-4 rounded-lg">
                            <p class="font-semibold text-lg mb-2">
                                {% if event.event_type == 'start' %}
                                üöÄ –ó–≤–æ–Ω–æ–∫ –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω
                                {% elif event.event_type == 'dial' %}
                                üìû –ù–∞–±–æ—Ä –Ω–æ–º–µ—Ä–∞
                                {% elif event.event_type == 'bridge' %}
                                üîó –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
                                {% elif event.event_type == 'bridge_create' %}
                                üåâ –°–æ–∑–¥–∞–Ω –º–æ—Å—Ç –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
                                {% elif event.event_type == 'bridge_leave' %}
                                üëã –£—á–∞—Å—Ç–Ω–∏–∫ –ø–æ–∫–∏–Ω—É–ª –º–æ—Å—Ç
                                {% elif event.event_type == 'bridge_destroy' %}
                                üí• –ú–æ—Å—Ç —Ä–∞–∑—Ä—É—à–µ–Ω
                                {% elif event.event_type == 'new_callerid' %}
                                üÜî –û–±–Ω–æ–≤–ª–µ–Ω CallerID
                                {% elif event.event_type == 'hangup' %}
                                ‚ùå –ó–≤–æ–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω
                                {% else %}
                                {{ event.event_type|upper }}
                                {% endif %}
                            </p>
                            {% if event.event_data %}
                            <p class="text-sm text-gray-600 mb-2">
                                {% if event.event_type == 'dial' and event.event_data.Phone %}
                                –ù–æ–º–µ—Ä: {{ event.event_data.Phone }}
                                {% if event.event_data.Extensions %}
                                ‚Üí –î–æ–±–∞–≤–æ—á–Ω—ã–π: {{ event.event_data.Extensions|join(', ') }}
                                {% endif %}
                                {% elif event.event_type == 'bridge' and event.event_data.CallerIDNum %}
                                –£—á–∞—Å—Ç–Ω–∏–∫: {{ event.event_data.CallerIDName or event.event_data.CallerIDNum }} ({{ event.event_data.CallerIDNum }})
                                {% elif event.event_type == 'hangup' and event.event_data.CallStatus %}
                                –°—Ç–∞—Ç—É—Å: {{ event.event_data.CallStatus }}
                                {% endif %}
                            </p>
                            {% endif %}
                            {% if event.event_data %}
                            <details class="mt-2">
                                <summary class="cursor-pointer text-sm text-blue-600 hover:text-blue-800">
                                    –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏
                                </summary>
                                <pre class="mt-2 text-xs">{{ event.event_data|tojson(indent=2) }}</pre>
                            </details>
                            {% endif %}
                        </div>
                    </div>
                    {% if not loop.last %}
                    <div class="ml-14 border-l-2 border-gray-300 h-6"></div>
                    {% endif %}
                    {% endfor %}
                </div>
                {% else %}
                <p class="text-gray-500 text-center py-8">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ —Å–æ–±—ã—Ç–∏—è—Ö</p>
                {% endif %}
            </div>

            <!-- –ë–ª–æ–∫ 4: Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-2xl font-bold text-gray-900">üì± Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
                    <button onclick="toggleAccordion('telegram')" class="text-blue-600 hover:text-blue-800">
                        <span id="telegram-icon">‚ñº</span> –ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å
                    </button>
                </div>
                
                <div id="telegram-content" class="accordion-content">
                    {% if call_data.telegram_messages %}
                    <div class="space-y-4">
                        {% for msg in call_data.telegram_messages %}
                        <div class="border-l-4 border-blue-500 pl-4 py-2 bg-blue-50 rounded">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm text-gray-600">
                                    Chat ID: {{ msg.chat_id }} | Message ID: {{ msg.message_id }}
                                </span>
                                <span class="text-xs text-gray-500">{{ msg.sent_at }}</span>
                            </div>
                            <p class="text-gray-800">{{ msg.message_text }}</p>
                            {% if msg.has_buttons %}
                            <p class="text-xs text-gray-600 mt-2">üîò –° –∫–Ω–æ–ø–∫–∞–º–∏</p>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                    <p class="mt-4 text-sm text-gray-600">
                        –í—Å–µ–≥–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ: <strong>{{ call_data.telegram_messages|length }}</strong> —Å–æ–æ–±—â–µ–Ω–∏–π
                    </p>
                    {% else %}
                    <p class="text-gray-500 text-center py-4">–ù–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π</p>
                    {% endif %}
                </div>
            </div>

            <!-- –ë–ª–æ–∫ 5: SQL –∑–∞–ø—Ä–æ—Å—ã -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-2xl font-bold text-gray-900">üíæ –ó–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö</h2>
                    <button onclick="toggleAccordion('sql')" class="text-blue-600 hover:text-blue-800">
                        <span id="sql-icon">‚ñº</span> –ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å
                    </button>
                </div>
                
                <div id="sql-content" class="accordion-content">
                    {% if call_data.sql_queries %}
                    <div class="space-y-4">
                        {% for query in call_data.sql_queries %}
                        <div class="border-l-4 border-purple-500 pl-4 py-2 bg-purple-50 rounded">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-semibold">{{ query.query_type or 'SQL' }}</span>
                                <span class="text-xs">
                                    ‚è±Ô∏è {{ query.execution_time_ms }}ms
                                    {% if query.success %}
                                    <span class="status-success">‚úÖ</span>
                                    {% else %}
                                    <span class="status-error">‚ùå</span>
                                    {% endif %}
                                </span>
                            </div>
                            <details>
                                <summary class="cursor-pointer text-sm text-purple-600 hover:text-purple-800">
                                    –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—Ä–æ—Å
                                </summary>
                                <pre class="mt-2 text-xs">{{ query.query_text }}</pre>
                            </details>
                        </div>
                        {% endfor %}
                    </div>
                    <p class="mt-4 text-sm text-gray-600">
                        –í—Å–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ: <strong>{{ call_data.sql_queries|length }}</strong> –∑–∞–ø—Ä–æ—Å–æ–≤
                    </p>
                    {% else %}
                    <p class="text-gray-500 text-center py-4">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –æ SQL –∑–∞–ø—Ä–æ—Å–∞—Ö</p>
                    {% endif %}
                </div>
            </div>

            <!-- –ë–ª–æ–∫ 6: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-2xl font-bold text-gray-900">üîó –ó–∞–ø—Ä–æ—Å—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º</h2>
                    <button onclick="toggleAccordion('integrations')" class="text-blue-600 hover:text-blue-800">
                        <span id="integrations-icon">‚ñº</span> –ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å
                    </button>
                </div>
                
                <div id="integrations-content" class="accordion-content">
                    {% if call_data.integration_responses %}
                    <div class="space-y-4">
                        {% for integration in call_data.integration_responses %}
                        <div class="border-l-4 border-green-500 pl-4 py-2 bg-green-50 rounded">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-semibold">
                                    {{ integration.integration_name or '–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è' }}
                                </span>
                                <span class="text-xs">
                                    ‚è±Ô∏è {{ integration.response_time_ms }}ms
                                    {% if integration.status_code == 200 %}
                                    <span class="status-success">‚úÖ {{ integration.status_code }}</span>
                                    {% else %}
                                    <span class="status-error">‚ùå {{ integration.status_code }}</span>
                                    {% endif %}
                                </span>
                            </div>
                            <p class="text-sm text-gray-700 mb-2">
                                {{ integration.method }} {{ integration.url }}
                            </p>
                            <details>
                                <summary class="cursor-pointer text-sm text-green-600 hover:text-green-800">
                                    –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–ø—Ä–æ—Å –∏ –æ—Ç–≤–µ—Ç
                                </summary>
                                <div class="mt-2 space-y-2">
                                    <div>
                                        <p class="text-xs font-semibold mb-1">–ó–∞–ø—Ä–æ—Å:</p>
                                        <pre class="text-xs">{{ integration.request_body|default('N/A')|tojson(indent=2) if integration.request_body else 'N/A' }}</pre>
                                    </div>
                                    <div>
                                        <p class="text-xs font-semibold mb-1">–û—Ç–≤–µ—Ç:</p>
                                        <pre class="text-xs">{{ integration.response_body|default('N/A')|tojson(indent=2) if integration.response_body else 'N/A' }}</pre>
                                    </div>
                                </div>
                            </details>
                        </div>
                        {% endfor %}
                    </div>
                    <p class="mt-4 text-sm text-gray-600">
                        –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: <strong>{{ call_data.integration_responses|length }}</strong>
                    </p>
                    {% else %}
                    <p class="text-gray-500 text-center py-4">–ù–µ—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è–º</p>
                    {% endif %}
                </div>
            </div>

            <!-- –ë–ª–æ–∫ 7: HTTP –∑–∞–ø—Ä–æ—Å—ã -->
            <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
                <div class="flex items-center justify-between mb-4">
                    <h2 class="text-2xl font-bold text-gray-900">üåê HTTP –∑–∞–ø—Ä–æ—Å—ã</h2>
                    <button onclick="toggleAccordion('http')" class="text-blue-600 hover:text-blue-800">
                        <span id="http-icon">‚ñº</span> –ü–æ–∫–∞–∑–∞—Ç—å/–°–∫—Ä—ã—Ç—å
                    </button>
                </div>
                
                <div id="http-content" class="accordion-content">
                    {% if call_data.http_requests %}
                    <div class="space-y-4">
                        {% for req in call_data.http_requests %}
                        <div class="border-l-4 border-orange-500 pl-4 py-2 bg-orange-50 rounded">
                            <div class="flex items-center justify-between mb-2">
                                <span class="text-sm font-semibold">{{ req.method }} {{ req.url }}</span>
                                <span class="text-xs">
                                    ‚è±Ô∏è {{ req.duration_ms|default('N/A') }}ms
                                    {% if req.status_code is defined and req.status_code is number %}
                                        {% if req.status_code >= 200 and req.status_code < 300 %}
                                        <span class="status-success">‚úÖ {{ req.status_code }}</span>
                                        {% else %}
                                        <span class="status-error">‚ùå {{ req.status_code }}</span>
                                        {% endif %}
                                    {% elif req.status_code is defined %}
                                        <span class="text-gray-500">{{ req.status_code }}</span>
                                    {% endif %}
                                </span>
                            </div>
                            <details>
                                <summary class="cursor-pointer text-sm text-orange-600 hover:text-orange-800">
                                    –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏
                                </summary>
                                <pre class="mt-2 text-xs">{{ req|tojson(indent=2) }}</pre>
                            </details>
                        </div>
                        {% endfor %}
                    </div>
                    <p class="mt-4 text-sm text-gray-600">
                        –í—Å–µ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤: <strong>{{ call_data.http_requests|length }}</strong>
                    </p>
                    {% else %}
                    <p class="text-gray-500 text-center py-4">–ù–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å–æ–≤</p>
                    {% endif %}
                </div>
            </div>

            <!-- Footer -->
            <div class="text-center text-gray-500 text-sm mt-8">
                <p>–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: {{ now().strftime('%d.%m.%Y %H:%M:%S') }}</p>
                <p class="mt-2">ü§ñ Call Viewer Service v1.0</p>
            </div>

        </div>
    </div>

    <script>
        function toggleAccordion(id) {
            const content = document.getElementById(id + '-content');
            const icon = document.getElementById(id + '-icon');
            
            if (content.classList.contains('active')) {
                content.classList.remove('active');
                icon.textContent = '‚ñº';
            } else {
                content.classList.add('active');
                icon.textContent = '‚ñ≤';
            }
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ–º Timeline –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', function() {
            // Timeline –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã—Ç, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç—ã
        });
    </script>
</body>
</html>

