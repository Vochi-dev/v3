# üîß –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—Ç–ª–∞–¥–∫–µ —Å–∏—Å—Ç–µ–º—ã —Å–æ–±—ã—Ç–∏–π Asterisk

## üìç –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤

### **–°–µ—Ä–≤–∏—Å 8025 (–≠–º—É–ª—è—Ç–æ—Ä —Å–æ–±—ã—Ç–∏–π)**
- **–û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥ —Å–æ–±—ã—Ç–∏–π:** `/root/asterisk-webhook/logs/call_tester_events.log`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç–º—É–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
  - –í—Å–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (dial, bridge_create, bridge, bridge_leave, bridge_destroy, hangup, new_callerid)
  - –ü–æ–ª–Ω—ã–µ JSON –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
  - HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
  - –°—Ç–∞—Ç—É—Å—ã –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ bot.vochi.by
  - –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö –¥–µ—Ç–∞–ª–∏
  - –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∏ –ø–æ–ª—É—á–µ–Ω–∏—è

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã:**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤ —ç–º—É–ª—è—Ç–æ—Ä–∞
cat logs/call_tester_events.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
tail -n 100 logs/call_tester_events.log

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f logs/call_tester_events.log

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–∞ –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
cat /dev/null > logs/call_tester_events.log

# –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
grep -A 10 "üöÄ EMULATION" logs/call_tester_events.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" logs/call_tester_events.log
```

---

### **–°–µ—Ä–≤–∏—Å 8000 (–û—Å–Ω–æ–≤–Ω–æ–π webhook-—Å–µ—Ä–≤–µ—Ä) - –ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ 0367/june**
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ª–æ–≥ –¥–ª—è 0367:** `/root/asterisk-webhook/logs/0367.log`
- **Token:** `375293332255`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π —Ç–æ–ª—å–∫–æ –æ—Ç —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è 0367 (june)
- **–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
  - –¢–∏–ø —Å–æ–±—ã—Ç–∏—è (start, dial, bridge, hangup –∏ —Ç.–¥.)
  - Token –∏ UniqueId
  - –ü–æ–ª–Ω–æ–µ —Ç–µ–ª–æ —Å–æ–±—ã—Ç–∏—è –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
  - –≠–º–æ–¥–∑–∏-–º–∞—Ä–∫–µ—Ä—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã:**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π 0367
cat logs/0367.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
tail -n 50 logs/0367.log

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
tail -f logs/0367.log

# –û—á–∏—Å—Ç–∫–∞ –ª–æ–≥–∞ –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
cat /dev/null > logs/0367.log

# –ü–æ–∏—Å–∫ –ø–æ —Ç–∏–ø—É —Å–æ–±—ã—Ç–∏—è
grep "hangup" logs/0367.log
grep "bridge" logs/0367.log

# –ü–æ–∏—Å–∫ –ø–æ UniqueId
grep "1759225684.16" logs/0367.log

# –ü–æ–¥—Å—á–µ—Ç —Å–æ–±—ã—Ç–∏–π –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞
grep "üß™ TEST EVENT:" logs/0367.log | awk '{print $NF}' | sort | uniq -c
```

---

### **–°–µ—Ä–≤–∏—Å 8000 (–û—Å–Ω–æ–≤–Ω–æ–π webhook-—Å–µ—Ä–≤–µ—Ä) - –í—Å–µ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è**
- **–û—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥:** `/root/asterisk-webhook/logs/app.log`
- **Uvicorn –ª–æ–≥:** `/root/asterisk-webhook/logs/uvicorn.log`
- **–õ–æ–≥ –¥–æ—Å—Ç—É–ø–∞:** `/root/asterisk-webhook/logs/access.log`
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –û–±—â–∏–µ –ª–æ–≥–∏ –æ—Ç –≤—Å–µ—Ö –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–π (—Å–æ—Ç–Ω–∏ —Ö–æ—Å—Ç–æ–≤)
- **–§–æ—Ä–º–∞—Ç:** `%(asctime)s [%(levelname)s] %(name)s: %(message)s`
- **–†–æ—Ç–∞—Ü–∏—è:** 10MB –Ω–∞ —Ñ–∞–π–ª, 5 –±—ç–∫–∞–ø–æ–≤

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã:**
```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ª–æ–≥–∞
tail -f logs/app.log

# –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ Token 0367
grep "375293332255" logs/app.log

# –ü–æ–∏—Å–∫ –æ—à–∏–±–æ–∫
grep "ERROR" logs/app.log
```

---

## üß™ –¢–∏–ø–∏—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –æ—Ç–ª–∞–¥–∫–∏

### **–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞**
```bash
# –û—á–∏—â–∞–µ–º –ª–æ–≥–∏ —ç–º—É–ª—è—Ç–æ—Ä–∞ –∏ 0367
cat /dev/null > logs/call_tester_events.log
cat /dev/null > logs/0367.log
```

### **–®–∞–≥ 2: –≠–º—É–ª—è—Ü–∏—è —Å–æ–±—ã—Ç–∏—è**
- –û—Ç–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: https://bot.vochi.by/test-interface
- –í—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω
- –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ñ–æ—Ä–º—É
- –ù–∞–∂–∞—Ç—å "–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏—è"

### **–®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ (—Å–µ—Ä–≤–∏—Å 8025)**
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Å–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–∏–ª–∏—Å—å
tail -50 logs/call_tester_events.log | grep "üì• EMULATION RESPONSE"
```

### **–®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è (—Å–µ—Ä–≤–∏—Å 8000)**
```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Å–æ–±—ã—Ç–∏—è –ø–æ–ª—É—á–µ–Ω—ã –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
tail -50 logs/0367.log
```

### **–®–∞–≥ 5: –ê–Ω–∞–ª–∏–∑**
- –°—Ä–∞–≤–Ω–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∏ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
- –í—ã—è–≤–∏—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤ 0367.log

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏:**
```
2025-10-01 14:23:45,123 [INFO] üß™ TEST EVENT: hangup
2025-10-01 14:23:45,124 [INFO] üìã Token: 375293332255, UniqueId: 1759230684.16
2025-10-01 14:23:45,125 [INFO] üì¶ Full Body: {
  "Token": "375293332255",
  "CallStatus": "2",
  "Phone": "152",
  "ExternalInitiated": true,
  "Trunk": "",
  "Extensions": ["150"],
  "UniqueId": "1759230684.16",
  "StartTime": "",
  "DateReceived": "2025-09-30 11:15:02",
  "EndTime": "2025-09-30 11:15:12",
  "CallType": 0
}
```

---

## üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

**‚ùå –ù–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:**
```bash
./all.sh restart  # –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å –∑–∞–ø—É—Å–∫–æ–º –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```

**‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ 8000
./main.sh restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —ç–º—É–ª—è—Ç–æ—Ä–∞ 8025
./call_tester.sh restart
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ - —Å–æ–æ–±—â–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –æ–Ω –≤—ã–ø–æ–ª–Ω–∏—Ç `./all.sh restart` –≤—Ä—É—á–Ω—É—é.

---

## üéØ –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã

```bash
# –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —ç–º—É–ª—è—Ç–æ—Ä–∞ –∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
tail -f logs/call_tester_events.log logs/0367.log

# –û—á–∏—Å—Ç–∫–∞ –æ–±–æ–∏—Ö –ª–æ–≥–æ–≤
cat /dev/null > logs/call_tester_events.log && cat /dev/null > logs/0367.log && echo "‚úÖ –õ–æ–≥–∏ –æ—á–∏—â–µ–Ω—ã"

# –ü–æ–¥—Å—á–µ—Ç —Å–æ–±—ã—Ç–∏–π –≤ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏
echo "–°–æ–±—ã—Ç–∏—è –æ—Ç —ç–º—É–ª—è—Ç–æ—Ä–∞:" && grep -c "üì• EMULATION RESPONSE" logs/call_tester_events.log
echo "–°–æ–±—ã—Ç–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 0367:" && grep -c "üß™ TEST EVENT" logs/0367.log

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Å–æ–±—ã—Ç–∏—è
echo "=== –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ ===" && grep "üìä Event Data:" logs/call_tester_events.log | tail -1
echo "=== –ü–æ—Å–ª–µ–¥–Ω–µ–µ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ ===" && grep "üß™ TEST EVENT" logs/0367.log | tail -1
```

---

## üìù –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 2025-10-01 - –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π –ª–æ–≥ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è 0367 (`logs/0367.log`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –æ—Ç Token `375293332255`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —ç–º–æ–¥–∑–∏-–º–∞—Ä–∫–µ—Ä—ã –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `otladka.md` —Å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ –æ—Ç–ª–∞–¥–∫–µ


